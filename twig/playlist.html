{% extends "_base.html" %}
{% block title %} Playlist {% endblock %}
{% block content %}

<div class="container-fluid border-top" style="margin-bottom: 10px;"></div>
<div class="container">

    
    {% if createMode %}
    <form id="createPlaylist" method="post" action="/php/playlistCreate.php" />
    {% elseif editMode %}
    <form id="updatePlaylist" method="post"  action="/php/playlistUpdate.php" />
    {% endif %}

        <p>{{ playlist.id }}</p>
        <input type="text" class="form-control" id="playlist-title" name="playlist-title" value="{{ playlist.title }}"  placeholder="{% if not createMode %}{{ playlist.title }}{% else %}Playlist Title{% endif %}" required {% if not createMode and not editMode %} readonly {% endif %}><br>
        <textarea type="text" class="form-control" rows="4" id="playlist-description" placeholder="Playlist Description" name="playlist-description" {% if not createMode and not editMode %} readonly {% endif %}>{{ playlist.description }}</textarea>

            
        {% for video in videos %}


        <hr>
        <div class="col">
            <span> {{ video.rank + 1 }}</span>
            <h2 class="lead text">{{ video.name }}</h2>
        </div>
        <div class="row">
            <div class="col">
                <a href="/video"><img src="/thumbnail/test.jpg" class="img-thumbnail border-success"></a>
            </div>
            <div class="col-md-8" style="word-break: break-all; word-wrap: break-word;">
                <p>{{ video.description }}</p>
            </div>
        </div>


        {% endfor %}



        {% if editMode %}
            <br>
            <div class="border border-danger">
                <h1>Does not work yet.</h1>
                <label for="playlist-video-swap-1">Swap: </label>
                <input type="text" class="form-control col-md-2" id="playlist-video-swap-1"/>
                <label for="playlist-video-swap-2">To:</label>
                <input type="text" class="form-control col-md-2" id="playlist-video-swap-2"/><br>
            </div>

        {% endif %}

        <br>
        <!-- need the playlist id when updating the site, thus hidden. -->
        <input type="hidden" name="playlist-id" value="{{ playlist.id }}"/>
        {% if createMode %}
        <input type="submit" class="btn btn-success" value="Create" form="createPlaylist" />
        {% elseif editMode %}
        <div class="row">
            <div class="col col-md-1">
                <input type="submit" class="btn btn-success" value="Update" form="updatePlaylist" />
            </div>
            <div class="col col-md-1">
                <input type="submit" class="btn btn-danger" value="Delete" formaction="/php/playlistDelete.php"/>
            </div>
        </div>

        {% endif %}

</div>

{% endblock content %}